@model IEnumerable<ServerModel.Tag>

@{
    ViewBag.Title = "Tags";
}
@section featured {
    <section class="featured">
        <div class="content-wrapper">
            <hgroup class="title">
                <h1>@ViewBag.Title</h1>
            </hgroup>
        </div>
    </section>
}

<div class="container">
    <div class="row">
        <div class="col-md-4">

                        <h3>Tags</h3>
            <table class="table table-hover"  id="serviceTable">
                                    <thead>
                                        <tr>
                                            <th>Title</th>

                                        </tr>
                                    </thead>
                                    <tbody id="fbody">
                                        @foreach (var tag in Model)
                                        { 
                                            <tr >
                                            <td>@tag.title</td>

                                        </tr>
                                        }
                                    </tbody>
                                </table>

        </div>

        <div class="col-md-4"></div>

        <div class="col-md-4">

            <h3>New Tag</h3>
            <form role="form"  id="newTag">
                <div class="form-group">
                    <label for="title">Title:</label>
                    <input id="title" class="form-control">
                </div>

                <button type="submit" class="btn btn-success">Create Tag</button>
            </form>
            <div id="result"></div>


        </div>
    </div>
</div>
<script>
    $("#newTag").submit(function (e) {
        var url = "/Tags/CreateNewTag"; // the script where you handle the form input.

        $.ajax({
            type: "POST",
            url: url,
            data: { title: $("#title").val() }, // serializes the form's elements.
            success: function (data) {
                $("#result").html(data);
            }
        });

        e.preventDefault(); // avoid to execute the actual submit of the form.
    });
</script>